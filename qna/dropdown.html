<!DOCTYPE html>
<html lang="ko">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이름 못정함</title>
    <link rel="stylesheet" href="dropdown.css">
  </head>

  <body>
    <div class="header-bar">
      <div class="dropdown-menu-container">
        <button type="button"
                aria-label="휠셋 메뉴"
                class="menuButton"
                title="60mm, 88mm or Disk wheel etc.">
          <span class="icon">▼</span>휠셋
        </button>
        <div class="dropdown-menu">
          <button>88mm</button>
          <button>15mm-60mm</button>
          <button>60mm-90mm</button>
          <button>Disk Wheel</button>
          <button>n-Spoke Wheel</button>
        </div>
      </div>

      <div class="dropdown-menu-container">
        <button aria-label="핸들바 메뉴"
                class="menuButton"
                title="Drop bar, Riser bar or Bunch bar etc.">
          <span class="icon">▼</span>핸들바
        </button>
        <div class="dropdown-menu">
          <button>Drop Bar</button>
          <button>Riser Bar</button>
          <button>Bunch Bar</button>
          <button>TT Bar</button>
          <button>Bullhorn Bar</button>
        </div>
      </div>

      <div class="dropdown-menu-container">
        <button aria-label="데칼 메뉴"
                class="menuButton"
                title="Arma, FAR sports or Fast Forward etc.">
          <span class="icon">▼</span>데칼
        </button>
        <div class="dropdown-menu">
          <button>Wheel Decal</button>
          <button>Frame Decal</button>
        </div>
      </div>

      <div class="dropdown-menu-container">
        <button aria-label="스템 메뉴"
                class="menuButton"
                title="Glossy/Matte stem, Fist stem etc.">
          <span class="icon">▼</span>스템
        </button>
        <div class="dropdown-menu">
          <button>Glossy Stem</button>
          <button>Matte Stem</button>
          <button>Fist Stem</button>
        </div>
      </div>

      <div class="dropdown-menu-container">
        <button aria-label="크랭크 메뉴"
                class="menuButton"
                title="Omnium crank, Sugino Zen chainring, Euro-Asia cog etc.">
          <span class="icon">▼</span>크랭크셋
        </button>
        <div class="dropdown-menu">
          <button>Crank</button>
          <button>Chainring</button>
          <button>Cog</button>
          <button>Chain</button>
        </div>
      </div>

      <div class="dropdown-menu-container">
        <button aria-label="안장 메뉴"
                class="menuButton"
                title="Oreo saddle, fi'zi:k saddle etc.">
          <span class="icon">▼</span>안장/싯포스트
        </button>
        <div class="dropdown-menu">
          <button>Saddle</button>
          <button>SeatPost</button>
        </div>
      </div>

    </div>

    <script>
      class DropdownMenu {
        constructor(container) {
          this.container = container;
          this.button = container.querySelector('.menuButton');
          this.icon = this.button.querySelector('.icon');
          this.dropdown = container.querySelector('.dropdown-menu');
          this.dropdown.style.display = 'none';
          this.initializeEvents();
        }

        initializeEvents() {
          this.button.addEventListener('click', (e) => this.handleClick(e));
          document.addEventListener('click', (e) => this.handleOutsideClick(e));

        }

        handleClick(e) {
          e.stopPropagation();
          this.closeOtherDropdowns();
          this.toggleDropdown();
        }

        handleOutsideClick(e) {
          if (!this.container.contains(e.target)) {
            this.closeDropdown();
          }
        }

        toggleDropdown() {
          const isVisible = this.dropdown.style.display === 'flex';
          this.dropdown.style.display = isVisible ? 'none' : 'flex';
          this.icon.textContent = isVisible ? '▼' : '▲';
        }

        closeDropdown() {
          this.dropdown.style.display = 'none';
          this.icon.textContent = '▼';
        }

        closeOtherDropdowns() {
          document.querySelectorAll('.dropdown-menu').forEach(menu => {
            if (menu !== this.dropdown) {
              menu.style.display = 'none';
              menu.parentElement.querySelector('.icon').textContent = '▼';
            }
          });
        }
      }

      // 초기화
      document.querySelectorAll('.header-bar > div').forEach(container => {
        new DropdownMenu(container);
      });
    </script>

  </body>

</html>
